(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{107:function(t,e,n){t.exports=n(120)},110:function(t,e,n){t.exports=n(128)},120:function(t,e,n){n(121),t.exports=n(25).Array.isArray},121:function(t,e,n){var r=n(46);r(r.S,"Array",{isArray:n(138)})},128:function(t,e,n){n(96),n(74),t.exports=n(129)},129:function(t,e,n){var r=n(127),a=n(37)("iterator"),i=n(84);t.exports=n(25).isIterable=function(t){var e=Object(t);return void 0!==e[a]||"@@iterator"in e||i.hasOwnProperty(r(e))}},188:function(t,e,n){t.exports=n(189)},189:function(t,e,n){n(96),n(74),t.exports=n(190)},190:function(t,e,n){var r=n(58),a=n(126);t.exports=n(25).getIterator=function(t){var e=a(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},191:function(t,e,n){},196:function(t,e,n){"use strict";var r=n(107),a=n.n(r);var i=n(188),o=n.n(i),c=n(110),u=n.n(c);function s(t,e){return function(t){if(a()(t))return t}(t)||function(t,e){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,a=!1,i=void 0;try{for(var c,s=o()(t);!(r=(c=s.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(e,"a",(function(){return s}))},225:function(t,e,n){"use strict";var r=n(17),a=n(355),i=n(80);n(81)("search",1,(function(t,e,n,o){return[function(n){var r=t(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=o(n,t,this);if(e.done)return e.value;var c=r(t),u=String(this),s=c.lastIndex;a(s,0)||(c.lastIndex=0);var l=i(c,u);return a(c.lastIndex,s)||(c.lastIndex=s),null===l?-1:l.index}]}))},35:function(t,e,n){var r=n(56),a=n(28),i=n(24),o=n(27),c=n(19),u=n(38),s=Object.getOwnPropertyDescriptor;e.f=n(14)?s:function(t,e){if(t=i(t),e=o(e,!0),u)try{return s(t,e)}catch(t){}if(c(t,e))return a(!r.f.call(t,e),t[e])}},355:function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},356:function(t,e,n){"use strict";var r=n(191);n.n(r).a},395:function(t,e,n){"use strict";n.r(e);n(225);var r=n(196),a=(n(75),n(100),n(113)),i=(n(65),{});function o(t){if(t)return i[t]?i[t]:(i[t]=new Promise((function(e,n){var r=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.src=t,r.appendChild(a),a.onload=e,a.onerror=function(e){delete i[t],n(e)}})),i[t])}var c=[116.39,39.9],u="93a6530af2063c6456115cabc328ec37";function s(){return(s=Object(a.a)(regeneratorRuntime.mark((function t(e,n){var r,a,i,s,p,f,v,d,h,m,g,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.el,a=e.input,i=e.center,s=void 0===i?c:i,p=e.city,f=e.disabled,v=void 0!==f&&f,d=e.zoom,h=void 0===d?12:d,window.AMap){t.next=5;break}return m="//webapi.amap.com/maps?v=1.4.6&key=".concat(u),t.next=5,o(m);case 5:return g=new window.AMap.Map(r,{zoom:h,center:s}),y=l({lng:s[0],lat:s[1],map:g},n),v||(window.AMap.plugin("AMap.Autocomplete",(function(){var t={city:p||"全国",input:a};new AMap.Autocomplete(t)})),AMap.event.addListener(g,"click",(function(t){var e=t.lnglat;n([e.lng,e.lat],"click")}))),t.abrupt("return",{map:g,marker:y});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t,e){var n=t.lng,r=t.lat,a=t.map,i=new AMap.Marker({position:[n,r],map:a,draggable:!!e,icon:new AMap.Icon({image:"http://webapi.amap.com/images/0.png",size:new AMap.Size(36,36),imageOffset:new AMap.Pixel(-0,-0)})});return"function"==typeof e&&i.on("dragend",(function(t){var n=t.lnglat;e([n.lng,n.lat],"dragend")})),i}var p,f={init:function(t,e){return s.apply(this,arguments)},addMarker:l,search:function(t,e){if(!t)return null;var n={pageSize:5,pageIndex:1,city:e};return window.AMap?new Promise((function(e,r){AMap.service("AMap.PlaceSearch",(function(){new AMap.PlaceSearch(n).search(t,(function(t,n){if("OK"!==n.info)return r(n);var a=n.poiList.pois;e((void 0===a?[]:a)[0])}))}))})):null}},v={model:{prop:"value",event:"change"},props:{value:{type:Array},city:{type:String},keyword:{type:String,default:""},zoom:{type:Number,default:12},disabled:{type:Boolean,default:!1}},data:function(){return{center:this.value||c,word:this.keyword,map:null,marker:null}},watch:{value:{deep:!0,handler:function(t){this.center=t,this.addMarker(t)}}},mounted:function(){this.init()},methods:{init:(p=Object(a.a)(regeneratorRuntime.mark((function t(){var e,n,r,a,i,o,c,u,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.center,n=this.disabled,r=this.zoom,a=this.$refs,i=a.el,o=a.input,t.next=4,f.init({el:i,input:o,center:e,disabled:n,zoom:r},this.change);case 4:c=t.sent,u=c.map,s=c.marker,this.map=u,this.marker=s;case 9:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)}),addMarker:function(t){var e=Object(r.a)(t,2),n=e[0],a=e[1];this.marker&&this.map&&(this.marker&&this.map.remove(this.marker),this.marker=f.addMarker({map:this.map,lng:n,lat:a},this.change))},change:function(t,e){"click"===e&&this.addMarker(t),this.map&&this.map.setCenter(t),this.dataValue=t,this.$emit("change",this.dataValue)},search:function(){var t=this;setTimeout(Object(a.a)(regeneratorRuntime.mark((function e(){var n,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.search(t.word,t.city);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:r=n.location||{},a=r.lng,i=r.lat,a&&i&&t.change([a,i],"click");case 7:case"end":return e.stop()}}),e)}))),50)}}},d=(n(356),n(1)),h=Object(d.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"amap-outer"},[n("div",{ref:"el",staticClass:"amap-container"}),t._v(" "),n("div",{staticClass:"lnglat"},[t._v(t._s(t.center.join("、")))]),t._v(" "),n("div",{staticClass:"search-box"},[t.disabled?t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.word,expression:"word"}],ref:"input",staticClass:"k-input",attrs:{placeholder:"输入地点名搜索"},domProps:{value:t.word},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),e.preventDefault(),t.search(e))},input:function(e){e.target.composing||(t.word=e.target.value)}}}),t._v(" "),n("button",{staticClass:"k-btn",on:{click:t.search}},[t._v("确认搜索")])])])}),[],!1,null,"5962d8fb",null).exports;h.install=function(t){t.component("vue-amap",h)};var m={components:{VueMap:h},data:function(){return{center:[116.39,39.9]}}},g=Object(d.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"test-container"},[n("h2",{staticClass:"title"},[t._v("@halobear/vue-amap")]),t._v(" "),n("vue-map",{attrs:{keyword:"上海"},model:{value:t.center,callback:function(e){t.center=e},expression:"center"}}),t._v(" "),n("div",{staticClass:"res"},[t._v("结果："+t._s(t.center))])],1)}),[],!1,null,null,null);e.default=g.exports},45:function(t,e,n){var r=n(29),a=n(41),i=n(39),o=n(31),c=n(86);t.exports=function(t,e){var n=1==t,u=2==t,s=3==t,l=4==t,p=6==t,f=5==t||p,v=e||c;return function(e,c,d){for(var h,m,g=i(e),y=a(g),x=r(c,d,3),w=o(y.length),b=0,k=n?v(e,w):u?v(e,0):void 0;w>b;b++)if((f||b in y)&&(m=x(h=y[b],b,g),t))if(n)k[b]=m;else if(m)switch(t){case 3:return!0;case 5:return h;case 6:return b;case 2:k.push(h)}else if(l)return!1;return p?-1:s||l?l:k}}},55:function(t,e,n){"use strict";var r,a,i=n(61),o=RegExp.prototype.exec,c=String.prototype.replace,u=o,s=(r=/a/,a=/b*/g,o.call(r,"a"),o.call(a,"a"),0!==r.lastIndex||0!==a.lastIndex),l=void 0!==/()??/.exec("")[1];(s||l)&&(u=function(t){var e,n,r,a,u=this;return l&&(n=new RegExp("^"+u.source+"$(?!\\s)",i.call(u))),s&&(e=u.lastIndex),r=o.call(u,t),s&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),l&&r&&r.length>1&&c.call(r[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)})),r}),t.exports=u},56:function(t,e){e.f={}.propertyIsEnumerable},57:function(t,e,n){var r=n(51),a=n(34).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,a)}},61:function(t,e,n){"use strict";var r=n(17);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},62:function(t,e,n){var r=n(15),a=n(63).set;t.exports=function(t,e,n){var i,o=e.constructor;return o!==n&&"function"==typeof o&&(i=o.prototype)!==n.prototype&&r(i)&&a&&a(t,i),t}},63:function(t,e,n){var r=n(15),a=n(17),i=function(t,e){if(a(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(29)(Function.call,n(35).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},65:function(t,e,n){"use strict";var r=n(13),a=n(19),i=n(21),o=n(62),c=n(27),u=n(16),s=n(57).f,l=n(35).f,p=n(20).f,f=n(69).trim,v=r.Number,d=v,h=v.prototype,m="Number"==i(n(60)(h)),g="trim"in String.prototype,y=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){var n,r,a,i=(e=g?e.trim():f(e,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+e}for(var o,u=e.slice(2),s=0,l=u.length;s<l;s++)if((o=u.charCodeAt(s))<48||o>a)return NaN;return parseInt(u,r)}}return+e};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof v&&(m?u((function(){h.valueOf.call(n)})):"Number"!=i(n))?o(new d(y(e)),n,v):y(e)};for(var x,w=n(14)?s(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;w.length>b;b++)a(d,x=w[b])&&!a(v,x)&&p(v,x,l(d,x));v.prototype=h,h.constructor=v,n(23)(r,"Number",v)}},75:function(t,e,n){"use strict";var r=n(11),a=n(45)(1);r(r.P+r.F*!n(40)([].map,!0),"Array",{map:function(t){return a(this,t,arguments[1])}})},78:function(t,e,n){var r=n(21);t.exports=Array.isArray||function(t){return"Array"==r(t)}},80:function(t,e,n){"use strict";var r=n(92),a=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},81:function(t,e,n){"use strict";n(93);var r=n(23),a=n(18),i=n(16),o=n(22),c=n(12),u=n(55),s=c("species"),l=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),p=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=c(t),v=!i((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),d=v?!i((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[s]=function(){return n}),n[f](""),!e})):void 0;if(!v||!d||"replace"===t&&!l||"split"===t&&!p){var h=/./[f],m=n(o,f,""[t],(function(t,e,n,r,a){return e.exec===u?v&&!a?{done:!0,value:h.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),g=m[0],y=m[1];r(String.prototype,t,g),a(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},86:function(t,e,n){var r=n(87);t.exports=function(t,e){return new(r(t))(e)}},87:function(t,e,n){var r=n(15),a=n(78),i=n(12)("species");t.exports=function(t){var e;return a(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!a(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},92:function(t,e,n){var r=n(21),a=n(12)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?n:i?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},93:function(t,e,n){"use strict";var r=n(55);n(11)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})}}]);